<!-- Generate notification sound as data URI -->
<html>
<head>
<script>
// Generate a simple notification beep sound and save as audio file
function generateBeepSound() {
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    
    // Create a simple beep: 800Hz for 0.5 seconds
    const duration = 0.5;
    const frequency = 800;
    
    const oscillator = audioContext.createOscillator();
    const gainNode = audioContext.createGain();
    
    oscillator.type = 'sine';
    oscillator.frequency.value = frequency;
    
    // Envelope: fade in quickly, stay, fade out
    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + duration);
    
    oscillator.connect(gainNode);
    gainNode.connect(audioContext.destination);
    
    oscillator.start(audioContext.currentTime);
    oscillator.stop(audioContext.currentTime + duration);
}

// Generate audio blob from Web Audio API
async function generateAudioFile(frequency, duration, name) {
    const sampleRate = 44100;
    const audioBuffer = new AudioBuffer({
        numberOfChannels: 1,
        length: sampleRate * duration,
        sampleRate: sampleRate
    });
    
    const data = audioBuffer.getChannelData(0);
    
    // Generate sine wave
    for (let i = 0; i < audioBuffer.length; i++) {
        data[i] = Math.sin(2 * Math.PI * (frequency / sampleRate) * i) * 0.3;
    }
    
    // Create WAV file
    const wav = audioBufferToWav(audioBuffer);
    const blob = new Blob([wav], { type: 'audio/wav' });
    
    // Download
    const url = URL.createObjectURL(blob);
    const link = document.createElement('a');
    link.href = url;
    link.download = name + '.wav';
    link.click();
}

function audioBufferToWav(audioBuffer) {
    const numberOfChannels = audioBuffer.numberOfChannels;
    const sampleRate = audioBuffer.sampleRate;
    const format = 1; // PCM
    const bitDepth = 16;
    
    const bytesPerSample = bitDepth / 8;
    const blockAlign = numberOfChannels * bytesPerSample;
    
    const data = [];
    for (let i = 0; i < numberOfChannels; i++) {
        data.push(audioBuffer.getChannelData(i));
    }
    
    let offset = 0;
    let pos = 0;
    const buffer = new ArrayBuffer(44 + audioBuffer.length * blockAlign);
    const view = new DataView(buffer);
    
    const writeString = (str) => {
        for (let i = 0; i < str.length; i++) {
            view.setUint8(offset + i, str.charCodeAt(i));
        }
        offset += str.length;
    };
    
    // Write WAV header
    writeString('RIFF');
    view.setUint32(offset, 36 + audioBuffer.length * blockAlign, true);
    offset += 4;
    writeString('WAVE');
    writeString('fmt ');
    view.setUint32(offset, 16, true);
    offset += 4;
    view.setUint16(offset, format, true);
    offset += 2;
    view.setUint16(offset, numberOfChannels, true);
    offset += 2;
    view.setUint32(offset, sampleRate, true);
    offset += 4;
    view.setUint32(offset, sampleRate * blockAlign, true);
    offset += 4;
    view.setUint16(offset, blockAlign, true);
    offset += 2;
    view.setUint16(offset, bitDepth, true);
    offset += 2;
    
    writeString('data');
    view.setUint32(offset, audioBuffer.length * blockAlign, true);
    offset += 4;
    
    // Write audio data
    for (let i = 0; i < audioBuffer.length; i++) {
        for (let channel = 0; channel < numberOfChannels; channel++) {
            const sample = Math.max(-1, Math.min(1, data[channel][i]));
            view.setInt16(offset, sample < 0 ? sample * 0x8000 : sample * 0x7FFF, true);
            offset += 2;
        }
    }
    
    return buffer;
}
</script>
</head>
<body>
<h1>Audio Generation Tool</h1>
<p>Use the code in this file to generate notification sounds.</p>
<p>Or download pre-made sounds from:</p>
<ul>
<li>Zapsplat: https://www.zapsplat.com/</li>
<li>Freesound: https://freesound.org/</li>
<li>Pixabay: https://pixabay.com/sound-effects/</li>
</ul>
</body>
</html>
